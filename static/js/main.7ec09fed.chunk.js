(this["webpackJsonpburger-order"]=this["webpackJsonpburger-order"]||[]).push([[0],{47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(18),i=n.n(a),o=n(11),s=n(14),l=n(2),d=n(37),u=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function j(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var b=n(13),h="ADD_INGREDIENT",f="REMOVE_INGREDIENT",g="SET_INGREDIENTS",m="FETCH_INGREDIENTS_FAILED",O="PURCHASE_BURGER_START",p="PURCHASE_BURGER_SUCCESS",v="PURCHASE_BURGER_FAIL",x="PURCHASE_INIT",y="FETCH_ORDERS_START",C="FETCH_ORDERS_SUCCESS",N="FETCH_ORDERS_FAIL",k="AUTH_START",T="AUTH_SUCCESS",w="AUTH_FAIL",I="AUTH_LOGOUT",S="SET_AUTH_REDIRECT_PATH",E=n(5),D=function(e,t){return Object(E.a)(Object(E.a)({},e),t)},R=function(e,t){var n=!0;if(!t)return!0;if(t.required&&(n=""!==e.trim()&&n),t.minLength&&(n=e.length>=t.minLength&&n),t.maxLength&&(n=e.length<=t.maxLength&&n),t.isEmail){n=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e)&&n}if(t.isNumeric){n=/^\d+$/.test(e)&&n}return n},A={ingredients:null,totalPrice:4,error:!1,building:!1},_={salad:.5,cheese:.4,meat:1.3,bacon:.7,tomato:.4},P=function(e,t){var n=Object(b.a)({},t.ingredientName,e.ingredients[t.ingredientName]+1),r={ingredients:D(e.ingredients,n),totalPrice:e.totalPrice+_[t.ingredientName],building:!0};return D(e,r)},L=function(e,t){var n=Object(b.a)({},t.ingredientName,e.ingredients[t.ingredientName]-1),r={ingredients:D(e.ingredients,n),totalPrice:e.totalPrice-_[t.ingredientName],building:!0};return D(e,r)},U=function(e,t){return D(e,{ingredients:{salad:t.ingredients.salad,bacon:t.ingredients.bacon,cheese:t.ingredients.cheese,meat:t.ingredients.meat,tomato:t.ingredients.tomato},totalPrice:4,error:!1,building:!1})},B=function(e,t){return D(e,{error:!0})},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return P(e,t);case f:return L(e,t);case g:return U(e,t);case m:return B(e);default:return e}},q={orders:[],loading:!1,purchased:!1},F=function(e,t){return D(e,{purchased:!1})},H=function(e,t){return D(e,{loading:!0})},z=function(e,t){var n=D(t.orderData,{id:t.orderId});return D(e,{loading:!1,purchased:!0,orders:e.orders.concat(n)})},G=function(e,t){return D(e,{loading:!1})},V=function(e,t){return D(e,{loading:!0})},Y=function(e,t){return D(e,{orders:t.orders,loading:!1})},W=function(e,t){return D(e,{loading:!1})},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return F(e);case O:return H(e);case p:return z(e,t);case v:return G(e);case y:return V(e);case C:return Y(e,t);case N:return W(e);default:return e}},Z={token:null,userId:null,error:null,loading:!1,authRedirectPath:"/"},J=function(e,t){return D(e,{error:null,loading:!0})},X=function(e,t){return D(e,{token:t.idToken,userId:t.userId,error:null,loading:!1})},K=function(e,t){return D(e,{error:t.error,loading:!1})},Q=function(e,t){return D(e,{token:null,userId:null})},ee=function(e,t){return D(e,{authRedirectPath:t.path})},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return J(e);case T:return X(e,t);case w:return K(e,t);case I:return Q(e);case S:return ee(e,t);default:return e}},ne=(n(47),n(4)),re=(n(48),n(6)),ce=(n(49),n(0)),ae=function(){var e=Object(l.d)((function(e){return null!==e.auth.token})),t=Object(r.useState)(!1),n=Object(re.a)(t,2),c=n[0],a=n[1];return Object(ce.jsxs)("header",{className:"navbar",children:[Object(ce.jsx)(o.b,{to:"/",exact:!0,className:"nav-logo",children:Object(ce.jsx)("i",{className:"fas fa-hamburger"})}),Object(ce.jsx)("a",{href:"/",className:"nav-logo mobile-menu-btn",onClick:function(e){e.preventDefault(),a(!c)},children:Object(ce.jsx)("i",{className:"fas fa-bars"})}),Object(ce.jsxs)("nav",{className:c?"open nav-item":"nav-item",children:[Object(ce.jsx)(o.b,{to:"/",exact:!0,children:"Burger Builder"}),e?Object(ce.jsx)(o.b,{to:"/orders",activeClassName:"active",children:"Orders"}):null,e?Object(ce.jsx)(o.b,{to:"/logout",activeClassName:"active",children:"Logout"}):Object(ce.jsx)(o.b,{to:"/auth",activeClassName:"active",children:"Authenticate"})]})]})},ie=function(e){return Object(ce.jsxs)("div",{children:[Object(ce.jsx)(ae,{}),Object(ce.jsx)("main",{className:"main",children:e.children})]})},oe=function(e){return e.children},se=n(38),le=(n(52),n.p+"static/media/salad.4779368a.svg"),de=n.p+"static/media/tomato.fe212b00.svg",ue=n.p+"static/media/cheese.c5533f59.svg",je=n.p+"static/media/meat.a90b51b3.svg",be=n.p+"static/media/bacon.57bb6384.svg",he=n.p+"static/media/bread-bottom.61838c30.svg",fe=n.p+"static/media/bread-top.3a881882.svg",ge=(n(53),function(e){var t=null;switch(e.type){case"bread-bottom":t=Object(ce.jsx)("div",{className:"each-ingredient each-ingredient-bread-bottom",children:Object(ce.jsx)("img",{src:he,alt:"bread-bottom"})});break;case"bread-top":t=Object(ce.jsx)("div",{className:"each-ingredient each-ingredient-bread-top",children:Object(ce.jsx)("img",{src:fe,alt:"bread-top"})});break;case"meat":t=Object(ce.jsx)("div",{className:"each-ingredient each-ingredient-meat",children:Object(ce.jsx)("img",{src:je,alt:"meat"})});break;case"cheese":t=Object(ce.jsx)("div",{className:"each-ingredient each-ingredient-cheese",children:Object(ce.jsx)("img",{src:ue,alt:"salad"})});break;case"bacon":t=Object(ce.jsx)("div",{className:"each-ingredient each-ingredient-bacon",children:Object(ce.jsx)("img",{src:be,alt:"bacon"})});break;case"tomato":t=Object(ce.jsx)("div",{className:"each-ingredient each-ingredient-tomato",children:Object(ce.jsx)("img",{src:de,alt:"tomato"})});break;case"salad":t=Object(ce.jsx)("div",{className:"each-ingredient each-ingredient-salad",children:Object(ce.jsx)("img",{src:le,alt:"salad"})});break;default:t=null}return t}),me=function(e){var t=Object.keys(e.ingredients).map((function(t){return Object(se.a)(Array(e.ingredients[t])).map((function(e,n){return Object(ce.jsx)(ge,{type:t},t+n)}))})).reduce((function(e,t){return e.concat(t)}),[]);return 0===t.length&&(t=Object(ce.jsx)("p",{children:"Please start adding ingredients!"})),Object(ce.jsxs)("div",{className:"Burger",children:[Object(ce.jsx)(ge,{type:"bread-top"}),t,Object(ce.jsx)(ge,{type:"bread-bottom"})]})},Oe=(n(54),n(55),function(e){return Object(ce.jsxs)("div",{className:"BuildControl",children:[Object(ce.jsxs)("div",{className:"Label",children:[e.label," * ",e.num]}),Object(ce.jsxs)("div",{className:"button-group",children:[Object(ce.jsx)("button",{className:"Less",onClick:e.removed,disabled:e.disabled,children:"Less"}),Object(ce.jsx)("button",{className:"More",onClick:e.added,children:"More"})]})]})}),pe=[{label:"Salad",type:"salad"},{label:"Bacon",type:"bacon"},{label:"Cheese",type:"cheese"},{label:"Meat",type:"meat"},{label:"Tomato",type:"tomato"}],ve=function(e){return Object(ce.jsx)("div",{className:"BuildControls",children:Object(ce.jsxs)("div",{className:"content",children:[Object(ce.jsx)("h2",{className:"title",children:" Choose Your Ingredients"}),Object(ce.jsxs)("p",{children:["Current Price: ",Object(ce.jsx)("strong",{children:e.price.toFixed(2)})]}),pe.map((function(t){return Object(ce.jsx)(Oe,{num:e.ingredients[t.type],label:t.label,added:function(){return e.ingredientAdded(t.type)},removed:function(){return e.ingredientRemoved(t.type)},disabled:e.disabled[t.type]},t.label)})),Object(ce.jsx)("button",{className:"OrderButton",disabled:!e.purchasable,onClick:e.ordered,children:e.isAuth?"Order Now":"Sigh Up To Order"})]})})},xe=(n(56),n(57),function(e){return e.show?Object(ce.jsx)("div",{className:"Backdrop",onClick:e.clicked}):null}),ye=function(e){return Object(ce.jsxs)(oe,{children:[Object(ce.jsx)(xe,{show:e.show,clicked:e.modalClosed}),Object(ce.jsx)("div",{className:"Modal",style:{transform:e.show?"translateY(0)":"translateY(-100vh)",opacity:e.show?"1":"0"},children:e.children})]})},Ce=c.a.memo(ye,(function(e,t){return t.show===e.show&&t.children===e.children})),Ne=(n(58),function(e){return Object(ce.jsx)("button",{disabled:e.disabled,className:["Button",[e.btnType]].join(" "),onClick:e.clicked,children:e.children})}),ke=function(e){var t=Object.keys(e.ingredients).map((function(t){return Object(ce.jsxs)("li",{children:[Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:t}),":"," ",e.ingredients[t]]},t)}));return Object(ce.jsxs)(oe,{children:[Object(ce.jsx)("h2",{children:"Your Order"}),Object(ce.jsx)("hr",{}),Object(ce.jsx)("p",{children:"A delicious burger with the following ingredients:"}),Object(ce.jsx)("ul",{children:t}),Object(ce.jsx)("p",{children:Object(ce.jsxs)("strong",{children:["Total Price: ",e.price.toFixed(2)]})}),Object(ce.jsx)("hr",{}),Object(ce.jsx)("p",{children:"Continue to Checkout?"}),Object(ce.jsx)(Ne,{btnType:"Danger",clicked:e.purchaseCancelled,children:"CANCEL"}),Object(ce.jsx)(Ne,{btnType:"Success",clicked:e.purchaseContinued,children:"CONTINUE"})]})},Te=(n(59),function(){return Object(ce.jsx)("div",{className:"Loader",children:"Loading..."})}),we=function(e){var t=Object(r.useState)(null),n=Object(re.a)(t,2),c=n[0],a=n[1],i=e.interceptors.request.use((function(e){return a(null),e})),o=e.interceptors.response.use((function(e){return e}),(function(e){a(e)}));Object(r.useEffect)((function(){return function(){e.interceptors.request.eject(i),e.interceptors.response.eject(o)}}),[i,o]);return[c,function(){a(null)}]},Ie=function(e,t){return function(n){var r=we(t),c=Object(re.a)(r,2),a=c[0],i=c[1];return Object(ce.jsxs)(oe,{children:[Object(ce.jsx)(Ce,{show:a,modalClosed:i,children:a?a.message:null}),Object(ce.jsx)(e,Object(E.a)({},n))]})}},Se=n(21),Ee=n.n(Se),De=Ee.a.create({baseURL:"https://tzuhui-10c1e.firebaseio.com"}),Re=function(){return function(e){De.get("https://tzuhui-10c1e.firebaseio.com/ingredients.json").then((function(t){var n;e((n=t.data,{type:g,ingredients:n}))})).catch((function(t){e({type:m})}))}},Ae=function(e,t){return function(n){n({type:O}),De.post("/orders.json?auth="+t,e).then((function(t){n(function(e,t){return{type:p,orderId:e,orderData:t}}(t.data.name,e))})).catch((function(e){n(function(e){return{type:v,error:e}}(e))}))}},_e=function(e,t){return function(n){n({type:y});var r="?auth="+e+'&orderBy="userId"&equalTo="'+t+'"';De.get("/orders.json"+r).then((function(e){var t=[];Object.keys(e.data).forEach((function(n){t.push(Object(E.a)(Object(E.a)({},e.data[n]),{},{orderId:n}))})),n({type:C,orders:t})})).catch((function(e){n({type:N,error:e})}))}},Pe=function(e,t){return{type:T,idToken:e,userId:t}},Le=function(){return localStorage.removeItem("token"),localStorage.removeItem("expirationDate"),localStorage.removeItem("userId"),{type:I}},Ue=function(e){return function(t){setTimeout((function(){t(Le())}),1e3*e)}},Be=function(e,t,n){return function(r){r({type:k});var c={email:e,password:t,returnSecureToken:!0},a="https://www.googleapis.com/identitytoolkit/v3/relyingparty/signupNewUser?key=AIzaSyCWg1kCu2Auov4mCikG9yPGo5FpYeaPqes";n||(a="https://www.googleapis.com/identitytoolkit/v3/relyingparty/verifyPassword?key=AIzaSyCWg1kCu2Auov4mCikG9yPGo5FpYeaPqes"),Ee.a.post(a,c).then((function(e){var t=new Date((new Date).getTime()+1e3*e.data.expiresIn);localStorage.setItem("token",e.data.idToken),localStorage.setItem("expirationDate",t),localStorage.setItem("userId",e.data.localId),r(Pe(e.data.idToken,e.data.localId)),r(Ue(e.data.expiresIn))})).catch((function(e){var t;r((t=e.response.data.error,{type:w,error:t}))}))}},Me=function(e){return{type:S,path:e}},qe=(n(78),Ie((function(e){var t=Object(r.useState)(!1),n=Object(re.a)(t,2),c=n[0],a=n[1],i=Object(l.c)(),o=Object(l.d)((function(e){return e.burgerBuilder.ingredients})),s=Object(l.d)((function(e){return e.burgerBuilder.totalPrice})),d=Object(l.d)((function(e){return e.burgerBuilder.error})),u=Object(l.d)((function(e){return null!==e.auth.token})),j=Object(r.useCallback)((function(){return i(Re())}),[i]),b=function(){return i({type:x})};Object(r.useEffect)((function(){j()}),[j]);var g=function(){a(!1)},m=Object(E.a)({},o);for(var O in m)m[O]=m[O]<=0;var p,v=null,y=d?Object(ce.jsx)("p",{children:"Ingredients can't be loaded!"}):Object(ce.jsx)(Te,{});return o&&(y=Object(ce.jsxs)("div",{className:"main-section",children:[Object(ce.jsx)(me,{className:"show-burger",ingredients:o}),Object(ce.jsx)(ve,{ingredients:o,className:"order-burger",ingredientAdded:function(e){return i({type:h,ingredientName:e})},ingredientRemoved:function(e){return i({type:f,ingredientName:e})},disabled:m,purchasable:(p=o,Object.keys(p).map((function(e){return p[e]})).reduce((function(e,t){return e+t}),0)>0),ordered:function(){u?a(!0):(i(Me("/checkout")),e.history.push("/auth"))},isAuth:u,price:s})]}),v=Object(ce.jsx)(ke,{ingredients:o,price:s,purchaseCancelled:g,purchaseContinued:function(){b(),e.history.push("/checkout")}})),Object(ce.jsxs)(oe,{children:[Object(ce.jsx)(Ce,{show:c,modalClosed:g,children:v}),y]})}),De)),Fe=Object(l.b)(null,(function(e){return{onLogout:function(){return e(Le())}}}))((function(e){var t=e.onLogout;return Object(r.useEffect)((function(){t()}),[t]),Object(ce.jsx)(ne.a,{to:"/"})})),He=(n(79),n(80),function(e){var t=Object(r.useState)(!1),n=Object(re.a)(t,2),c=n[0],a=n[1];return Object(r.useEffect)((function(){window.location.pathname.includes("contact-data")&&a(!0)}),[a]),Object(ce.jsxs)("div",{className:"CheckoutSummary",children:[Object(ce.jsx)("h1",{children:"We hope it tastes well!"}),Object(ce.jsx)("div",{style:{width:"100%",margin:"auto"},children:Object(ce.jsx)(me,{ingredients:e.ingredients})}),Object(ce.jsx)(Ne,{btnType:"Danger",clicked:e.checkoutCancelled,children:"CANCEL"}),c?null:Object(ce.jsx)(Ne,{btnType:"Success",clicked:e.checkoutContinued,children:"CONTINUE"})]})}),ze=(n(81),n(82),function(e){var t,n=null;switch(e.invalid&&e.shouldValidate&&e.touched&&(t="Invalid"),e.elementType){case"input":n=Object(ce.jsxs)("div",{children:[Object(ce.jsx)("input",Object(E.a)(Object(E.a)({id:e.label,className:"form-control ".concat(t)},e.elementConfig),{},{value:e.value,onChange:e.changed})),e.invalid&&e.shouldValidate&&e.touched?Object(ce.jsx)("span",{className:"error-message",children:Object(ce.jsx)("small",{children:e.errorMsg})}):null]});break;case"textarea":n=Object(ce.jsx)("textarea",Object(E.a)(Object(E.a)({className:"form-control ".concat(t)},e.elementConfig),{},{value:e.value,onChange:e.changed}));break;case"select":n=Object(ce.jsx)("select",{className:"form-control ".concat(t),value:e.value,onChange:e.changed,children:e.elementConfig.options.map((function(e){return Object(ce.jsx)("option",{value:e.value,children:e.displayValue},e.value)}))});break;default:n=Object(ce.jsx)("input",Object(E.a)(Object(E.a)({className:"form-control ".concat(t)},e.elementConfig),{},{value:e.value,onChange:e.changed}))}return Object(ce.jsxs)("div",{className:"Input",children:[Object(ce.jsx)("label",{className:"form-label",htmlFor:e.label,children:e.label}),n]})}),Ge=Ie((function(e){var t=Object(r.useState)({name:{elementType:"input",label:"Name",elementConfig:{type:"text",placeholder:"Your Name"},value:"",validation:{required:!0},errorMsg:"Name is required.",valid:!1,touched:!1},email:{elementType:"input",label:"E-mail",elementConfig:{type:"email",placeholder:"Your E-Mail"},value:"",validation:{required:!0,isEmail:!0},valid:!1,errorMsg:"Please Check Email pattern.",touched:!1},country:{elementType:"input",label:"Country",elementConfig:{type:"text",placeholder:"Country"},value:"",validation:{required:!0},errorMsg:"Country is required.",valid:!1,touched:!1},street:{elementType:"input",label:"Address",elementConfig:{type:"text",placeholder:"Street"},value:"",validation:{required:!0},errorMsg:"Street is required.",valid:!1,touched:!1},zipCode:{elementType:"input",label:"ZIP Code",elementConfig:{type:"text",placeholder:"ZIP Code. ex: 50012"},value:"",validation:{required:!0,minLength:5,maxLength:5,isNumeric:!0},errorMsg:"ZIP Code is required. Must Enter 5 numbers",valid:!1,touched:!1},deliveryMethod:{elementType:"select",label:"Delivery Method",elementConfig:{options:[{value:"fastest",displayValue:"Fastest"},{value:"cheapest",displayValue:"Cheapest"}]},value:"fastest",validation:{},valid:!0}}),n=Object(re.a)(t,2),c=n[0],a=n[1],i=Object(r.useState)(!1),o=Object(re.a)(i,2),s=o[0],d=o[1],u=Object(l.d)((function(e){return e.burgerBuilder.ingredients})),j=Object(l.d)((function(e){return e.burgerBuilder.totalPrice})),h=Object(l.d)((function(e){return e.order.loading})),f=Object(l.d)((function(e){return e.auth.token})),g=Object(l.d)((function(e){return e.auth.userId})),m=Object(l.c)(),O=[];for(var p in c)O.push({id:p,config:c[p]});var v=Object(ce.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={};for(var n in c)t[n]=c[n].value;!function(e,t){m(Ae(e,t))}({date:(new Date).getTime(),ingredients:u,price:j,orderData:t,userId:g},f)},children:[O.map((function(e){return Object(ce.jsx)(ze,{label:e.config.label,elementType:e.config.elementType,elementConfig:e.config.elementConfig,value:e.config.value,invalid:!e.config.valid,errorMsg:e.config.errorMsg,shouldValidate:e.config.validation,touched:e.config.touched,changed:function(t){return function(e,t){var n=D(c[t],{value:e.target.value,valid:R(e.target.value,c[t].validation),touched:!0}),r=D(c,Object(b.a)({},t,n)),i=!0;for(var o in r)i=r[o].valid&&i;a(r),d(i)}(t,e.id)}},e.id)})),Object(ce.jsx)(Ne,{btnType:"Success",disabled:!s,children:"ORDER"})]});return h&&(v=Object(ce.jsx)(Te,{})),Object(ce.jsx)("div",{className:"ContactData",children:Object(ce.jsxs)("div",{className:"wrapper",children:[Object(ce.jsx)("h2",{className:"title",children:"Enter your Contact Data"}),v]})})}),De),Ve=Object(l.b)((function(e){return{ings:e.burgerBuilder.ingredients,purchased:e.order.purchased}}))((function(e){var t=Object(ce.jsx)(ne.a,{to:"/"});if(e.ings){var n=e.purchased?Object(ce.jsx)(ne.a,{to:"/"}):null;t=Object(ce.jsxs)("div",{className:"checkout",children:[n,Object(ce.jsx)(He,{ingredients:e.ings,checkoutCancelled:function(){e.history.goBack()},checkoutContinued:function(){e.history.replace("/checkout/contact-data")}}),Object(ce.jsx)(ne.b,{path:e.match.path+"/contact-data",component:Ge})]})}return t})),Ye=(n(83),function(e){var t=[];for(var n in e.ingredients)t.push({name:n,amount:e.ingredients[n]});var r=t.map((function(e){return Object(ce.jsxs)("span",{style:{textTransform:"capitalize",display:"inline-block",margin:"0 8px",border:"1px solid #ccc",padding:"5px",borderRadius:"2px"},children:[e.name," (",e.amount,")"]},e.name)}));return Object(ce.jsxs)("tr",{children:[Object(ce.jsx)("th",{children:e.orderId}),Object(ce.jsxs)("td",{children:[e.date?Object(ce.jsxs)("p",{children:[function(e){var t=new Date;return t.setTime(e),t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()}(e.date)," "]}):null," "]}),Object(ce.jsx)("td",{children:r}),Object(ce.jsx)("td",{children:Object(ce.jsxs)("strong",{children:[" ",Number.parseFloat(e.price).toFixed(2)]})})]})}),We=(n(84),Ie((function(){var e=Object(l.c)(),t=Object(l.d)((function(e){return e.order.orders})),n=Object(l.d)((function(e){return e.order.loading})),c=Object(l.d)((function(e){return e.auth.token})),a=Object(l.d)((function(e){return e.auth.userId})),i=Object(r.useCallback)((function(t,n){return e(_e(t,n))}),[e]);Object(r.useEffect)((function(){console.log("fetch"),i(c,a)}),[i,c,a]);var o=Object(ce.jsx)(Te,{});return n||(o=Object(ce.jsxs)("div",{className:"table-responsive",children:[Object(ce.jsx)("h2",{className:"title",children:"My Order"}),Object(ce.jsxs)("table",{className:"table",children:[Object(ce.jsx)("thead",{children:Object(ce.jsxs)("tr",{children:[Object(ce.jsx)("th",{children:"OrderID"}),Object(ce.jsx)("th",{children:"Date"}),Object(ce.jsx)("th",{children:"Ingredients"}),Object(ce.jsx)("th",{children:"Price (USD)"})]})}),Object(ce.jsx)("tbody",{children:t.map((function(e,t){return Object(ce.jsx)(Ye,{orderId:e.orderId,date:e.date,ingredients:e.ingredients,price:e.price},t)}))})]})]})),Object(ce.jsx)("div",{class:"order-table",children:o})}),De)),$e=(n(85),function(e){var t=Object(r.useState)(!0),n=Object(re.a)(t,2),c=n[0],a=n[1],i=Object(r.useState)({email:{elementType:"input",label:"E-mail",elementConfig:{type:"email",placeholder:"Mail Address"},value:"",validation:{required:!0,isEmail:!0},valid:!1,touched:!1},password:{elementType:"input",label:"Password",elementConfig:{type:"password",placeholder:"Password"},value:"",validation:{required:!0,minLength:6},valid:!1,touched:!1}}),o=Object(re.a)(i,2),s=o[0],d=o[1],u=Object(l.d)((function(e){return e.auth.loading})),j=Object(l.d)((function(e){return e.auth.error})),h=Object(l.d)((function(e){return null!==e.auth.token})),f=Object(l.d)((function(e){return e.burgerBuilder.building})),g=Object(l.d)((function(e){return e.auth.authRedirectPath})),m=Object(l.c)();Object(r.useEffect)((function(){f||"/"===g||function(e){e(Me("/"))}()}));var O=[];for(var p in s)O.push({id:p,config:s[p]});var v=O.map((function(e){return Object(ce.jsx)(ze,{label:e.config.label,elementType:e.config.elementType,elementConfig:e.config.elementConfig,value:e.config.value,invalid:!e.config.valid,shouldValidate:e.config.validation,touched:e.config.touched,changed:function(t){return function(e,t){var n=D(s,Object(b.a)({},t,D(s[t],{value:e.target.value,valid:R(e.target.value,s[t].validation),touched:!0})));d(n)}(t,e.id)}},e.id)}));u&&(v=Object(ce.jsx)(Te,{}));var x=null;j&&(x=Object(ce.jsxs)("p",{style:{background:"#f7d2c0",padding:"10px",borderRadius:"4px"},className:"error-message",children:["Error: ",j.message]}));var y=null;return h&&(y=Object(ce.jsx)(ne.a,{to:g})),Object(ce.jsx)("div",{className:"Auth",children:Object(ce.jsxs)("div",{className:"wrapper",children:[Object(ce.jsxs)("h2",{className:"title",children:[" ",c?"Sign Up":"Sign In"," "]}),y,x,Object(ce.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(e,t,n){m(Be(e,t,n))}(s.email.value,s.password.value,c)},children:[v,Object(ce.jsx)(Ne,{btnType:"Success",children:"SUBMIT"})]}),Object(ce.jsxs)(Ne,{clicked:function(){a(!c)},btnType:"Danger",children:["SWITCH TO ",c?"SIGNIN":"SIGNUP"]})]})})}),Ze=function(){var e=Object(l.c)(),t=Object(l.d)((function(e){return null!==e.auth.token}));Object(r.useEffect)((function(){e((function(e){var t=localStorage.getItem("token");if(t){var n=new Date(localStorage.getItem("expirationDate"));if(n<=new Date)e(Le());else{var r=localStorage.getItem("userId");e(Pe(t,r)),e(Ue((n.getTime()-(new Date).getTime())/1e3))}}else e(Le())}))}));var n=Object(ce.jsxs)(ne.d,{children:[Object(ce.jsx)(ne.b,{path:"/auth",component:$e}),Object(ce.jsx)(ne.b,{path:"/",component:qe}),Object(ce.jsx)(ne.a,{to:"/"})]});return t&&(n=Object(ce.jsxs)(ne.d,{children:[Object(ce.jsx)(ne.b,{path:"/checkout",component:Ve}),Object(ce.jsx)(ne.b,{path:"/orders",component:We}),Object(ce.jsx)(ne.b,{path:"/logout",component:Fe}),Object(ce.jsx)(ne.b,{path:"/auth",component:$e}),Object(ce.jsx)(ne.b,{path:"/",exact:!0,component:qe}),Object(ce.jsx)(ne.a,{to:"/"})]})),Object(ce.jsx)("div",{children:Object(ce.jsx)(ie,{children:Object(ce.jsx)(r.Suspense,{fallback:Object(ce.jsx)("p",{children:"Loading..."}),children:n})})})},Je=Object(s.c)({burgerBuilder:M,order:$,auth:te}),Xe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d,Ke=Object(s.e)(Je,Xe(Object(s.a)(d.a))),Qe=Object(ce.jsx)(l.a,{store:Ke,children:Object(ce.jsx)(o.a,{basename:"/react-burger-order",children:Object(ce.jsx)(Ze,{})})});i.a.render(Qe,document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/react-burger-order",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/react-burger-order","/service-worker.js");u?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):j(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):j(e)}))}}()}},[[86,1,2]]]);
//# sourceMappingURL=main.7ec09fed.chunk.js.map